<nav class="navbar navbar-expand-md navbar-dark bg-dark mb-4">
    @*<div class="container-fluid">*@
    <a class="navbar-brand" href="">Hamster Wars</a>
    <button class="navbar-toggler @NavButtonCssClass" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse"
            aria-controls="navbarCollapse" aria-label="Toggle navigation" @onclick="ToggleNavMenu">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse @NavBarCssClass" id="navbarCollapse" @onclick="ToggleNavMenu">
        <ul class="navbar-nav me-auto mb-2 mb-md-0">
            <li class="nav-item">
                <a class="nav-link" href="battle">
                    <span class="oi oi-list-rich" aria-hidden="true"></span> Battle
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="gallery">
                    <span class="oi oi-list-rich" aria-hidden="true"></span> Gallery
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="statistics">
                    <span class="oi oi-list-rich" aria-hidden="true"></span> Statistics
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="history">
                    <span class="oi oi-list-rich" aria-hidden="true"></span> History
                </a>
            </li>
        </ul>
        <AuthorizeView>
            <Authorized>
                <ul class="nav navbar-nav navbar-right">
                    <li class="logged-in-li">
                        <p class="nav-link">Welcome, @context.User.FindFirst(System.Security.Claims.ClaimTypes.Name).Value</p>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="logout">
                            <span class="oi oi-list-rich" aria-hidden="true"></span> Logout
                        </a>
                    </li>
                </ul>
            </Authorized>
            <NotAuthorized>
                @*den här biten flyttar ul/li links till höger*@
                <ul class="nav navbar-nav navbar-right">
                    <li class="nav-item">
                        <a class="nav-link" href="login">
                            <span class="oi oi-list-rich" aria-hidden="true"></span> Login
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="register">
                            <span class="oi oi-list-rich" aria-hidden="true"></span> Register
                        </a>
                    </li>
                </ul>
            </NotAuthorized>
        </AuthorizeView>
    </div>
</nav>

@code {

    private bool collapseNavMenu = true;
    private string NavBarCssClass => collapseNavMenu ? null : "show";
    private string NavButtonCssClass => collapseNavMenu ? "collapsed" : null;


    private void ToggleNavMenu()
    {
        collapseNavMenu = !collapseNavMenu;
    }
}